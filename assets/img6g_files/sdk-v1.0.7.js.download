/*! For license information please see sdk-qa.js.LICENSE.txt */
!function(){"use strict";var e={975:function(e,t,n){var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,"#optimoveSdkWebTool {\n    width: 0;\n    display: none;\n    position: fixed;\n    right: 0;\n    top: 0;\n    background: #fff;\n    z-index: 1000;\n}\n\n#optimoveSdkWebTool.open {\n    max-width: 1500px;\n    min-width: 340px;\n    height: 100vh;\n}\n\n#optimoveSdkWebTool.open.ag-theme-balham {\n    width: 500px;\n    display: block;\n    z-index: 10000;\n    -webkit-box-shadow: -3px 0 10px 0 rgba(200, 200, 200, 0.5);\n    box-shadow: -3px 0 10px 0 rgba(200, 200, 200, 0.5);\n}\n\n#optimovePanelHead.panel-heading {\n    padding: 16px 15px;\n}\n\n#optimovePanelHead .popupDiv {\n    padding-left: 334px;\n    position: relative;\n}\n\n#optimovePanelHead .popupDiv .popup {\n    position: absolute;\n    visibility: hidden;\n}\n\n#optimovePanelHead .popupDiv .popup.showPopup {\n    visibility: visible;\n    display: block;\n    background: #FFFFFF 0% 0% no-repeat padding-box;\n    box-shadow: 0px 0px 6px #00000029;\n    border-radius: 4px;\n    opacity: 1;\n    width: 109px;\n    height: 84px;\n    z-index: 1;\n}\n\n#optimovePanelHead .popupDiv .popup.showPopup .dockRightPicDiv {\n    height: 28px;\n    padding-top: 10px;\n    padding-left: 10px;\n}\n\n#optimovePanelHead .popupDiv .popup.showPopup .dockRightPicDiv .dockText {\n    display: inline;\n    padding-left: 6px;\n}\n\n#optimovePanelHead .popupDiv .popup.showPopup .dockRightPicDiv:hover {\n    background-color: #ECEFF1;\n}\n\n#optimovePanelHead .popupDiv .popup.showPopup .dockLeftPicDiv {\n    height: 28px;\n    padding-top: 10px;\n    padding-left: 10px;\n}\n\n#optimovePanelHead .popupDiv .popup.showPopup .dockLeftPicDiv .dockText {\n    display: inline;\n    padding-left: 6px;\n}\n\n#optimovePanelHead .popupDiv .popup.showPopup .dockLeftPicDiv:hover {\n    background-color: #ECEFF1;\n}\n\n#optimovePanelHead .popupDiv .popup.showPopup .dockBottomPicDiv {\n    height: 28px;\n    padding-top: 10px;\n    padding-left: 10px;\n}\n\n#optimovePanelHead .popupDiv .popup.showPopup .dockBottomPicDiv .dockText {\n    display: inline;\n    padding-left: 6px;\n}\n\n#optimovePanelHead .popupDiv .popup.showPopup .dockBottomPicDiv:hover {\n    background-color: #ECEFF1;\n}\n\n#optimovePanelHead .popup.popupNotShow {\n    visibility: hidden;\n}\n\n#optimovePanelHead .popup.showPopup {\n    visibility: visible;\n    display: block;\n    background: #FFFFFF 0% 0% no-repeat padding-box;\n    box-shadow: 0px 0px 6px #00000029;\n    border-radius: 4px;\n    opacity: 1;\n    width: 109px;\n    height: 83px;\n}\n\n#optimoveSdkWebTool.open.ag-theme-balham .ag-header-cell {\n    padding-right: 0px !important;\n}\n\n#optimoveSDKDragger {\n    width: 10px;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: transparent;\n    z-index: 1;\n    cursor: w-resize;\n}\n\n#optimoveSdkWebTool .material-icons {\n    cursor: pointer;\n}\n\n#optimoveSdkWebTool .ag-root-wrapper.ag-layout-normal {\n    height: calc(100% - 103px);\n}\n\n#optimoveSdkWebTool.ag-theme-balham .is-not-main {\n    background-color: #ECEFF1;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .errorNotMainRow {\n    background-color: #FFD6C2;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-header-cell {\n    background-color: #CFD8DC;\n    box-sizing: content-box;\n}\n\n#optimoveSdkWebTool .ag-header-cell-text {\n    color: #455A64;\n    text-align: left;\n    font: Bold 12px/14px Roboto;\n    letter-spacing: 0;\n    opacity: 1;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-cell {\n    text-align: left;\n    font: Regular 12px/14px Roboto;\n    letter-spacing: 0;\n    color: #37474F;\n    opacity: 1;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-cell .fa-angle-right,\n#optimoveSdkWebTool.ag-theme-balham .ag-cell .fa-angle-down {\n    width: 18px;\n    height: 18px;\n    padding-right: 10px;\n    color: #37474F;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-cell .fa-exclamation-circle {\n    padding-right: 20px;\n    width: 16px;\n    height: 17px;\n    color: #FF5500;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-cell.mainRowClass.optDateCell.optHasError {\n    color: #FF5500;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-cell.mainRowClass.mainRowClassEventId.optHasError {\n    color: #FF5500;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-cell.mainRowClass.mainRowClassEventName.optHasError {\n    color: #FF5500;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-cell.notMainDateRowClass {\n    left: 26px !important;\n    white-space: normal !important;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-cell.notMainDateRowClass.optParametersWarning {\n    color: #212121 !important;\n    font-weight: bold !important;\n    left: 26px !important;\n}\n\n#optimoveSdkWebTool .cell-wrap-text {\n    white-space: normal !important;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-cell.notMainDateRowClass.optNotExistWarning {\n    left: 26px !important;\n    left: 26px !important;\n    white-space: nowrap !important;\n    color: #CF4500;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-cell.notMainRowClass.notMainRowClassEventId {\n    left: 160px !important;\n    font-weight: bold;\n    white-space: normal !important;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-cell.notMainRowClass.notMainRowClassEventId.optHasError {\n    left: 160px !important;\n    font-weight: normal;\n    white-space: normal !important;\n}\n\n#optimoveSdkWebTool .ag-overlay-loading-center {\n    text-align: center;\n    font: Bold 24px/28px Roboto;\n    letter-spacing: 0;\n    color: #F2F0F0;\n    opacity: 1;\n}\n\n#optimoveSdkWebTool .cell-parameter-value {\n    width: 540px !important;\n    ;\n}\n\n#optimoveSdkWebTool .ag-full-width-row {\n    padding-left: 8px !important;\n    padding-top: 16px !important;\n}\n\n#optimoveSdkWebTool .optimoveTopHeadLine {\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n}\n\n#optimoveSdkWebTool .optimoveTopHeadLine .optimoveWebToolBtnClose {\n    box-shadow: none;\n}\n\n#optimoveSdkWebTool .optimoveTopHeadLine .optimoveWebToolBtnClose i {\n    font-size: 17px;\n    color: #5F7C8A;\n}\n\n#optimoveSdkWebTool .optimoveTopHeadLine .positionButtonPic {\n    padding-right: 10px;\n}\n\n#optimoveSdkWebTool .optimoveTopHeadLineText {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-left: 8px;\n    color: #424242;\n    text-align: left;\n    font: Light 18px/18px Roboto;\n    letter-spacing: 0;\n    opacity: 1;\n    font-weight: 300;\n    font-size: 18px;\n}\n\n#optimoveSdkWebTool .optimoveBottomHeadLineText {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    padding: 10px 0 5px;\n    text-align: left;\n    font: Regular 12px/16px Roboto;\n    letter-spacing: 0;\n    color: #546E7A;\n    opacity: 1;\n}\n\n#optimoveSdkWebTool .opvArrowNoParams {\n    visibility: hidden;\n}\n\n#optimoveSdkWebTool .btn-link.opt-btn-link {\n    padding-top: 5px;\n    padding-left: 0px;\n    border: 0;\n    cursor: pointer;\n    color: #00AAFF;\n    font-size: 12px;\n    font-weight: 700;\n    user-select: none;\n    text-shadow: none;\n    background-color: white !important;\n}\n\n#optimoveSdkWebTool .btn-link.opt-btn-link:hover {\n    color: #00699E !important;\n    text-decoration: none;\n}\n\n#optimoveSdkWebTool .opt-btn-link.btn-link.disable-btn:hover {\n    color: #B0BEC5 !important;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-header-cell::after,\n.ag-theme-balham .ag-header-group-cell::after {\n    border-right: none;\n}\n\n#optimoveSdkWebTool .ag-row-hover {\n    background-color: #F5F7F7 !important;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-row-selected.opti-row-class {\n    background-color: white !important;\n    border-color: #d9dcde;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-root {\n    border: 0px !important;\n}\n\n#optimoveSdkWebTool.ag-theme-balham .ag-overlay-loading-center {\n    border: 0px !important;\n}",""]),t.Z=r},645:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);o&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},379:function(e,t,n){var o,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function i(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},o=[],r=0;r<e.length;r++){var c=e[r],l=t.base?c[0]+t.base:c[0],s=n[l]||0,p="".concat(l," ").concat(s);n[l]=s+1;var d=i(p),u={css:c[1],media:c[2],sourceMap:c[3]};-1!==d?(a[d].references++,a[d].updater(u)):a.push({identifier:p,updater:h(u,t),references:1}),o.push(p)}return o}function l(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var a=n.nc;a&&(o.nonce=a)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var i=r(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var s,p=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function d(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=p(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function u(e,t,n){var o=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,f=0;function h(e,t){var n,o,r;if(t.singleton){var a=f++;n=m||(m=l(t)),o=d.bind(null,n,a,!1),r=d.bind(null,n,a,!0)}else n=l(t),o=u.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=i(n[o]);a[r].references--}for(var l=c(e,t),s=0;s<n.length;s++){var p=i(n[s]);0===a[p].references&&(a[p].updater(),a.splice(p,1))}n=l}}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,exports:{}};return e[o](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=n(379),t=n.n(e),o=n(975);t()(o.Z,{insert:"head",singleton:!1}),o.Z.locals,window.openTestTool=function(){new Promise((function(e,t){document.getElementsByTagName("body");var n=document.createElement("script");n.src="https://kit.fontawesome.com/608cdf593e.js";var o=document.createElement("script");o.src="https://unpkg.com/ag-grid-community/dist/ag-grid-community.min.noStyle.js";var r=document.createElement("link");r.rel="stylesheet",r.href="https://unpkg.com/ag-grid-community/dist/styles/ag-grid.css";var a=document.createElement("link");a.rel="stylesheet",a.href="https://unpkg.com/ag-grid-community/dist/styles/ag-theme-balham.css";var i=document.createElement("link");i.rel="stylesheet",i.href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css";var c=document.createElement("link");c.rel="stylesheet",c.href="https://fonts.googleapis.com/icon?family=Material+Icons";var l=document.createElement("link");l.rel="stylesheet",l.href="https://fonts.googleapis.com/css?family=Roboto&display=swap";var s=document.createElement("div");s.id="optimoveSdkWebTool",s.className="ag-theme-balham";var p=document.createElement("div");p.id="optimovePanelHead",p.classList.add("panel-heading");var d=document.createElement("div");d.classList.add("optimoveTopHeadLine");var u=document.createElement("img");u.classList.add("optimoveIcon"),u.ID="optimoveIcon",u.src="data:image/png;base64,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";var m=document.createElement("div"),f=document.createElement("div"),h=document.createElement("p");h.innerHTML='The Web SDK testing tool has been replaced by Optimove\'s Events Log. Click <a href="https://academy.optimove.com/en/article/monitoring-events-in-optimove"  target="_blank" title="https://academy.optimove.com/en/article/monitoring-events-in-optimove/"> here</a> to learn more about the Events Log in Optimove\'s academy. If you are unable to access the academy article, please contact your customer success manager.',f.appendChild(h);var v=document.createElement("i");v.classList.add("material-icons"),v.innerText="clear";var g=document.createElement("div");g.appendChild(v),g.classList.add("optimoveWebToolBtnClose"),g.width="10px",g.height="10px",g.onclick=function(){be()};var b=document.createElement("div");b.classList.add("optimoveTopHeadLineText"),b.classList.add("font-weight-bold"),b.id="OptimoveSDKEvents",b.textContent="| Web SDK testing tool",d.appendChild(u),d.appendChild(b),d.appendChild(m),d.appendChild(g);var y=document.createElement("div"),w=document.createElement("div");w.id="optimoveBottomHeadLineText",w.classList.add("optimoveBottomHeadLineText"),w.textContent="",y.appendChild(w),p.appendChild(d),p.appendChild(y),p.appendChild(f),s.appendChild(p),document.body.appendChild(n),document.body.appendChild(o),document.body.appendChild(r),document.body.appendChild(a),document.body.appendChild(c),document.body.appendChild(l),document.body.appendChild(s),s.classList.add("open"),document.body.classList.add("optimoveSdkWebToolOpen"),o.onload=function(){e()}})).then((function(){window.sessionStorage.setItem("isSideBarShouldBeOpen",!0);var e=window.sessionStorage.getItem("OptimovePanelWidth");e>0&&(document.getElementById("optimoveSdkWebTool").style.width=e+"px",document.body.style.width=parseInt(window.width-e)+"px")}))};var r,a,i,c,l,s,p,d,u,m,f,h,v,g,b,y,w,x,k,S,E,C,D,I,T,M,L,P,A,O,W,R,F,_,U,j,B,H,N,z,K,V,q,J,G,X,Y,Q,Z,$,ee,te,ne,oe,re,ae,ie,ce,le,se,pe,de,ue,me,fe,he,ve,ge,be=function(){var e=document.getElementById("optimoveSdkWebTool");null!=e&&(e.remove(),window.sessionStorage.setItem("isSideBarShouldBeOpen",!1)),document.body.classList.remove("optimoveSdkWebToolOpen"),document.body.style.width="auto"},ye=window.openTestTool;function we(){we=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var r=t&&t.prototype instanceof d?t:d,a=Object.create(r.prototype),i=new S(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(r,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw a;return{value:void 0,done:!0}}for(n.method=r,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=s(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function d(){}function u(){}function m(){}var f={};c(f,r,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(E([])));v&&v!==t&&n.call(v,r)&&(f=v);var g=m.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(r,a,i,c){var l=s(e[r],e,a);if("throw"!==l.type){var p=l.arg,d=p.value;return d&&"object"==Se(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(d).then((function(e){p.value=e,i(p)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var r;this._invoke=function(e,n){function a(){return new t((function(t,r){o(e,n,t,r)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return u.prototype=m,c(g,"constructor",m),c(m,"constructor",u),u.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,r,a){void 0===a&&(a=Promise);var i=new y(l(t,n,o,r),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,r,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return i.type="throw",i.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function xe(e,t,n,o,r,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(o,r)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){xe(a,o,r,i,c,"next",e)}function c(e){xe(a,o,r,i,c,"throw",e)}i(void 0)}))}}function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.optimoveSDK=(C="2.0.19",D="//sdk-cdn.optimove.net/",I="990a6d8eb6cbb8ea44b73d21f1e473b43b9c74ea",T="0b006d8eb623b8ea11b73d61f1e483b47b9d7422",M="4ba302311571f45d57f1aa75e428b9b78d59a7a2",L="85bdeae0a9e0dad7fdd022d8f90da5d3a241b3d0",P="d0df7f0a4c2724ff587c1cfb3e315b432e2d1f50",A="647a3d19ac2647f361068a43df3a4da1",O="19a826c7f361268a43da3a46a12047f3",W="215d26f4be2047f348066e44ee7fe3d6",R="511a26f4be2047a348064e4abe8ce2a9","set_page_visit",F="set_user_id_event",_="set_email_event",U="web_popup_displayed",j="prod",B="",H="",a={info:1,warning:2,error:3,none:4},i="none",N={setLevel:function(e){i=e},log:function(e,t){if("prod"!=j&&a[e]>=a[i])switch(a[e]){case 1:console.info(t);break;case 2:console.warn(t);break;case 3:console.error(t);break;default:console.log(t)}}},z=function(e){var t,n,o,r,a,i,c,l,s,p=function(e,t){return e<<t|e>>>32-t},d=function(e){var t,n="";for(t=7;t>=0;t--)n+=(e>>>4*t&15).toString(16);return n},u=new Array(80),m=1732584193,f=4023233417,h=2562383102,v=271733878,g=3285377520,b=(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(e)).length,y=new Array;for(n=0;n<b-3;n+=4)o=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),y.push(o);switch(b%4){case 0:n=2147483648;break;case 1:n=e.charCodeAt(b-1)<<24|8388608;break;case 2:n=e.charCodeAt(b-2)<<24|e.charCodeAt(b-1)<<16|32768;break;case 3:n=e.charCodeAt(b-3)<<24|e.charCodeAt(b-2)<<16|e.charCodeAt(b-1)<<8|128}for(y.push(n);y.length%16!=14;)y.push(0);for(y.push(b>>>29),y.push(b<<3&4294967295),t=0;t<y.length;t+=16){for(n=0;n<16;n++)u[n]=y[t+n];for(n=16;n<=79;n++)u[n]=p(u[n-3]^u[n-8]^u[n-14]^u[n-16],1);for(r=m,a=f,i=h,c=v,l=g,n=0;n<=19;n++)s=p(r,5)+(a&i|~a&c)+l+u[n]+1518500249&4294967295,l=c,c=i,i=p(a,30),a=r,r=s;for(n=20;n<=39;n++)s=p(r,5)+(a^i^c)+l+u[n]+1859775393&4294967295,l=c,c=i,i=p(a,30),a=r,r=s;for(n=40;n<=59;n++)s=p(r,5)+(a&i|a&c|i&c)+l+u[n]+2400959708&4294967295,l=c,c=i,i=p(a,30),a=r,r=s;for(n=60;n<=79;n++)s=p(r,5)+(a^i^c)+l+u[n]+3395469782&4294967295,l=c,c=i,i=p(a,30),a=r,r=s;m=m+r&4294967295,f=f+a&4294967295,h=h+i&4294967295,v=v+c&4294967295,g=g+l&4294967295}return(s=d(m)+d(f)+d(h)+d(v)+d(g)).toLowerCase()},K={cleanUrl:function(e){return["http://www.","http://","https://www.","https://","www."].forEach((function(t){e=e.startsWith(t)?e.replace(t,""):e})),e},validatePageURL:function(e){return/(https?|http?|ftp):\/\/[^\s\/$.?#].[^\s]*$/.test(e)},validateUserIdLength:function(e){return!(e&&e.length>200)},validateUserId:function(e){return!e||" "!=e&&"null"!=e.toLowerCase()&&"none"!=e.toLowerCase()&&!e.toLowerCase().includes("undefine")},validateEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},getUrlParams:function(e){var t=e?e.split("?")[1]:window.location.search.slice(1),n={};if(t)for(var o=(t=t.split("#")[0]).split("&"),r=0;r<o.length;r++){var a=o[r].split("="),i=a[0],c=void 0===a[1]||a[1];if(i=i.toLowerCase(),"string"==typeof c&&(c=c.toLowerCase()),i.match(/\[(\d+)?\]$/)){var l=i.replace(/\[(\d+)?\]/,"");if(n[l]||(n[l]=[]),i.match(/\[\d+\]$/)){var s=/\[(\d+)\]/.exec(i)[1];n[l][s]=c}else n[l].push(c)}else n[i]=c}return Object.keys(n).forEach((function(e){Array.isArray(n[e])&&(n[e]=K.convertUTMArray(n[e]))})),n},convertUTMArray:function(e){return(e=(e=e.toString()).replace(/,/g,"_")).toLowerCase()},getUserLanguage:function(){var e=navigator.language.toLowerCase();return"chrome://global/locale/intl.properties"==e&&(e=null),e},generateUUID:function(){var e=(new Date).getTime(),t=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var o=16*Math.random();return e>0?(o=(e+o)%16|0,e=Math.floor(e/16)):(o=(t+o)%16|0,t=Math.floor(t/16)),("x"===n?o:3&o|8).toString(16)}))}},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;o&&N.setLevel(o),j=Y(I)||j,X(I,j),H=window.location.hostname,t="prod"==j?"web-configuration.1.0.0":"web-configuration.1.0.0-stg",(r=self.optimoveTenantConfiguration)?q((function(){$(),r.enableWebPush&&(N.log("info","call initializeOptimobile"),ue.initializeOptimobile()),r.enableOptitrack&&(N.log("info","call initializeOptiTrack"),de.initializeOptiTrack((function(){de.logMetadataCoreEvent().then((function(e){n&&"function"==typeof n&&n()}))}))),r.enableRealtime&&(N.log("info","call initializeRealtime"),pe.initializeRealtime())})):J(B=D+"webconfig/"+e+"/"+t+".js",(function(){N.log("info","configuration loaded successfully"),N.log("info","core events loaded successfully"),q((function(){$(),r.enableWebPush&&(N.log("info","call initializeOptimobile"),ue.initializeOptimobile()),r.enableOptitrack&&(N.log("info","call initializeOptiTrack"),de.initializeOptiTrack((function(){de.logMetadataCoreEvent().then((function(e){n&&"function"==typeof n&&n()}))}))),r.enableRealtime&&(N.log("info","call initializeRealtime"),pe.initializeRealtime()),re()&&optimoveSDK.API.openWebTestTool()}))}))},q=function(e){r=self.optimoveTenantConfiguration,ce(r),e&&"function"==typeof e&&e()},J=function(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!1,n.defer=!1,n.src=e,document.getElementsByTagName("script")[1].appendChild(n),n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()}},c=[],l=function(){var e=ke(we().mark((function e(t,n){var o;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],n.forEach((function(e){o.push(e.event)})),e.next=4,fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Request-ID":K.generateUUID()},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return N.log("info","event".concat(o.length>1?"s":""," ").concat(o.join(", ")," reported to ").concat(t," successfully")),{payload:n,response:e}})).catch((function(e){return N.log("error","event".concat(o.length>1?"s":""," ").concat(o.join(", ")," not reported to ").concat(t," due to ").concat(e)),{payload:n,response:e}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(e){return e==U?"popup":"track"},G={logEvent:function(e,t,n){try{var o,a;t="object"===Se(t=t||{})&&Object.keys(t).length>0?ae(t):{},Object.assign(t,se()),n&&e!=F?(o=n.updatedVisitorId,a=n.userId):e==F?(o=t.updatedVisitorId,a=t.userId):(o=Q(),a=te());var i={tenant:r.optitrackMetaData.siteId,category:s(e),origin:"sdk",event:e,context:t,timestamp:(new Date).toISOString(),metadata:{firstVisitorDate:oe(),eventId:K.generateUUID(),sdk_platform:"web",sdk_version:C},visitor:o,customer:a};c.push(i)}catch(t){N.log("error","could not log event: ".concat(e," error log: ").concat(t))}},dispatch:function(){var e=ke(we().mark((function e(){var t,n,o,a;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n=[],c.length){e.next=4;break}return e.abrupt("return");case 4:if(c.forEach((function(e){t.push(e),n.push(e)})),r.enableWebPush&&ue.reportEventsToOptimobile(c),c=[],!(r.enableOptitrack&&t.length>0)){e.next=13;break}return e.next=10,l(de.getOptitrackEndpoint(),t);case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,Promise.resolve();case 15:e.t0=e.sent;case 16:if(o=e.t0,!(r.enableRealtime&&n.length>0)){e.next=23;break}return e.next=20,l(pe.getRealtimeEndpoint(),n).then((function(e){pe.postRealtimeEvent(e)}));case 20:e.t1=e.sent,e.next=26;break;case 23:return e.next=25,Promise.resolve();case 25:e.t1=e.sent;case 26:return a=e.t1,e.abrupt("return",Promise.all([o,a]).then((function(e){return e})));case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},X=function(e,t){try{var n=localStorage.getItem(e);null!=n&&n==t||localStorage.setItem(e,t)}catch(e){N.log("error","OptimoveSDK: persistSDKLocalData() Failed error = ".concat(e))}},Y=function(e){try{var t=localStorage.getItem(e);if(null!=t)return t}catch(e){return N.log("error","OptimoveSDK: getPersistedSDKLocalDatas () Failed error = ".concat(e)),null}},Q=function(){return Y(A)||null},Z=function(e){X(A,e)},$=function(){var e=Y(A),t=Y(O);if(e||(e=K.generateUUID(),X(A,e)),!t){var n="_pk_id.".concat(r.optitrackMetaData.siteId,"."),o=document.cookie.match(new RegExp("(^| )"+n+".{1,}=([^;]+)")),a=Array.isArray(o)&&null!=o[2]?o[2].split(".")[0]:null;X(O,a||e),X(R,(new Date).toISOString())}return e},ee=function(){return Y(O)||null},te=function(){return Y(W)},ne=function(e){X(W,e)},oe=function(){return Y(R)||null},re=function(){try{return"true"==window.sessionStorage.getItem("isSideBarShouldBeOpen")}catch(e){N.log("error","Web sdk test tool : session storage access has failed :  ".concat(e))}},ae=function(e){if(null!=e){var t=Object.getOwnPropertyNames(e),n=1;return t.forEach((function(t){if(n>r.optitrackMetaData.maxActionCustomDimensions)delete e[t];else{var o=e[t];if("string"==typeof o){var a=o.trim();e[t]=a}}"customURL"==t&&(e[t]=K.cleanUrl(e[t]).toLowerCase()),n++})),e}N.log("info","normalizeEventParameters: event parameter is null")},ie=function(e){var t="desktop",n="windows",o="";if(void 0!==e){var r=e.os.name;n=r,o=r+" "+e.os.version,Object.keys(e.device).length>0&&void 0!==e.device.type&&(t=e.device.type,N.log("info","found deviceType="+t)),X(T,n),X(M,t),X(L,o),X(P,"false")}},ce=function(e){void 0===Y(T)&&function(e,t){window.navigator.userAgent;var n=new XMLHttpRequest,o=e.sdkServicesEndPoint;n.open("GET",o,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n.onreadystatechange=function(){try{if(4==n.readyState&&200==n.status){var e=JSON.parse(n.responseText);N.log("info",e),t&&t(e)}}catch(e){N.log("error",e)}},n.send()}(e,ie)},le=function(){var e=de.getOptitrackVisitorInfo(),t=new Object;return null!=e?(t.visitorId=e[1],t.visitCount=e[3]):(N.log("error","in getVisitorsInfoObj Optitrack"),t=void 0),t},se=function(){return{event_platform:Y(T),event_device_type:Y(M),event_os:Y(L),event_native_mobile:Y(P)}},d=!1,u=function e(t){t&&(!0!==t&&t.target!=document.getElementById("optiRealPopupDimmer")&&"optiRealclosePopupImage"!=t.target.id||(document.body.removeChild(p),document.removeEventListener("mousedown",e)))},m=function(e){try{var t=document.createElement("div"),n="";n="<div id='optiRealPopupDimmer' style='position: fixed;bottom: 0;right: 0;top: 0;left: 0;overflow: hidden;display: none; z-index:999999999;background: #000000;opacity : "+(r.realtimeMetaData.options.showDimmer?.5:0)+";display:block;width: auto;height: auto;'></div>",document.addEventListener("mousedown",u),n+="<div style='max-height:90%;max-width:90%;top: 50%;left: 50%;transform:translate(-50%, -50%);position: fixed;z-index:9999999999;'><div style=' clear:both;min-width: 100px;min-height: 100px;background-color:white; text-align:center;box-shadow:0 0 5px 0 rgba(0, 0, 0, 0.2);'><div style='position:absolute;right:-13px;top:-13px;cursor:pointer;z-index:99999999999; color:white' onclick='optimoveSDK.API.closeRealtimePopup();'><img id='optiRealclosePopupImage' src='https://d3qycynbsy5rsn.cloudfront.net/banner_pop_x.png' /></div><div>"+e+"</div></div>"+(r.realtimeMetaData.options.showDimmer&&r.realtimeMetaData.options.showWatermark?"<div style='position: absolute;z-index:9999999999; clear:both;font-family : Arial;font-size : 9px;color : #CCCCCC;padding-top:6px;margin-left: 5px;'>Powered by Optimove</div>":"")+"</div>",t.innerHTML=n,p=t,document.body.appendChild(t);var o=t.getElementsByTagName("script");o.length>0&&window.eval(o[0].innerText)}catch(e){N.log("error","Error while executing popup ".concat(e))}},f=function(e,t,n,o){if(!t||void 0===t||0==t)return!1;if(null==o||null==n)return!0;var r,a=localStorage.getItem("optimove_popup_"+t+"_"+e),i={};return a&&(a=JSON.parse(a),new Date(a.recurrenceFrameStopTime)>new Date((new Date).toISOString())?r=Math.min(o,a.recurrenceLeft):(r=o,i.recurrenceFrameStopTime=n),o=r),i.recurrenceFrameStopTime=n,i.recurrenceLeft=o-1,localStorage.setItem("optimove_popup_"+t+"_"+e,JSON.stringify(i)),!(o<=0)},h=function(){return"".concat(r.realtimeMetaData.realtimeGateway,"reportEvent")},pe={initializeRealtime:function(e){h(),e&&"function"==typeof e&&e()},postRealtimeEvent:function(){var e=ke(we().mark((function e(t){var n,o,a,i,c;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(n=t.response).IsSuccess&&n.Data&&n.Metadata&&(n.Metadata.delayValue||(n.Metadata.delayValue=0),o=n.Metadata.campaignDetailId?parseInt(n.Metadata.campaignDetailId):1,a=n.Metadata.templateId?parseInt(n.Metadata.templateId):0,i=n.Metadata.actionChannelId?parseInt(n.Metadata.actionChannelId):0,c=n.Metadata.sendId?n.Metadata.sendId:null,d||(d=!0,setTimeout((function(){if(f(t.visitorId,o,n.Metadata.recurrenceFrameStopTime,n.Metadata.recurrenceLeft)){r.realtimeMetaData.options.popupCallback?r.realtimeMetaData.options.popupCallback(n):m(n.Data);var e=G;e.logEvent(U,{campaign_detail_id:o,template_id:a,action_channel_id:i,send_id:c}),e.dispatch().then((function(e){return d=!1,e}))}}),1e3*n.Metadata.delayValue)))}catch(e){N.log("error",e)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),executePopup:m,closePopup:u,getRealtimeEndpoint:h},v="set_user_id_event",g="a5c127e180652c82e615be143677e248",b=null,y=function(){var e=ke(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",reportEvent(t,n,b));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(e){var t=r.events[e];return null==t?null:t},x=function(e,t){var n=e.parameters[t];return null==n?null:n},de={initializeOptiTrack:function(e){b=E(),e&&"function"==typeof e&&e()},logSetUserId:function(e,t,n){try{var o=w(v);if(null==e||null==t)return void N.log("error","OptiTrackModule:logSetUserIdEvent Failed!!, error = origVisitorIdValue == undefined || updatedUserIdValue == undefined ");if(null!=o){x(o,"originalVisitorId"),x(o,"updatedVisitorId"),x(o,"userId");var r={originalVisitorId:e,userId:te(),updatedVisitorId:Q()};reportEvent(v,r).then((function(e){}))}}catch(e){N.log("error","OptiTrackModule:logSetUserIdEvent Failed!!, error =  "+e)}},logUserEmail:function(e){reportEvent("set_email_event",{email:e}).catch((function(e){_logger.log("error","OptiTrackModule:logOptitrackUserEmail Failed!!, error =  "+e)}))},logMetadataCoreEvent:function(){var e=ke(we().mark((function e(){var t,n,o,r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.log("info","OptiTrackModule: in logMetadataCoreEvent"),!(t=S(g))||"true"!==t.value){e.next=4;break}return e.abrupt("return");case 4:return n=K.getUrlParams(),o={sdk_platform:"Web",sdk_version:C,app_ns:H,campaign_name:n.utm_campaign?n.utm_campaign:null,campaign_keyword:n.utm_term?n.utm_term:null,campaign_source:n.utm_source?n.utm_source:null,campaign_medium:n.utm_medium?n.utm_medium:null,campaign_content:n.utm_content?n.utm_content:null,campaign_id:n.utm_id?n.utm_id:null,language:K.getUserLanguage()},""!==B&&(o.config_file_url=B),(r=G).logEvent("optimove_sdk_metadata",o),e.abrupt("return",r.dispatch().then((function(e){return k(g,!0),e})).catch((function(e){N.log("warning","OptiTrackModule:logMetadataCoreEvent Failed!!, error = ".concat(e))})));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getOptitrackVisitorInfo:function(){return[]},getUserId:te,getKeyId:function(e,t){try{var n=null;switch(t){case"datonics":n="75f8c5fdab43daca991a35c854a5a6d2";break;case"liveRamp":n="4007d0a432ab6289711974163b25a06d";break;case"googlCookieMatch":n="634beb77779dc8025e7615cf95fce8f7";break;default:n=null}return n}catch(e){var o="OptiTrackModule:getKeyId  Failed!!, error = "+e;_logger.log("error",o)}},getOptitrackEndpoint:E=function(){return r.optitrackMetaData.optitrackEndpoint},reportOptitrackEvent:y,getPersistedSDKSessionData:S=function(e){try{if(1!=r.optitrackMetaData.useSessionStorage)return N.log("info","Optitrack: persistSDKSessionData() key: ".concat(e," Not Persisted")),null;var t=sessionStorage.getItem(e);if(null!=t)return{key:e,value:t}}catch(e){return N.log("error","OptiTrackModule: getPersistedSDKSessionData () Failed error = ".concat(e)),null}},persistSDKSessionData:k=function(e,t){try{if(1==r.optitrackMetaData.useSessionStorage){var n=sessionStorage.getItem(e);null!=n&&n==t||sessionStorage.setItem(e,t)}else N.log("info","Optitrack: persistSDKSessionData() Not Persisted")}catch(e){N.log("error","OptiTrackModule: persistSDKSessionData () Failed error = ".concat(e))}}},ue={initializeOptimobile:function(){var e,t;(e=window)[t="Kumulos"]=e[t]||function(){e[t].q=e[t].q||[],e[t].q.push(arguments)};var n=r.kumulosWebSdkMetaData,o=ee();if(null!==o){var a={apiKey:n.apiKey,secretKey:n.secretKey,vapidPublicKey:n.vapidPublicKey,region:n.region,originalVisitorId:o,sdkVersion:C},i=te();i&&(a.customerId=i);var c,l=document.querySelector("script[data-optimove-service-worker-path]");if(l){var s=l.dataset.optimoveServiceWorkerPath;if("js"!==s.split(".").pop())throw"Optimove: incorrect service worker path";a.serviceWorkerPath=s}Kumulos("init",a),c=function(){var e=document.createElement("script");e.id="kumulos",e.src="https://static.app.delivery/sdks/web/optimove-web-bundle.js",e.async=!0,document.body.append(e)},"loading"!==document.readyState?c():document.addEventListener("DOMContentLoaded",c)}else console.error("Optimobile cannot initialize: no originalVisitorId present")},reportEventsToOptimobile:function(e){e.forEach((function(e){N.log("info","reporting to kumulos event "+e.event),Kumulos("trackEvent",e.event,e.context)}))},pushRegister:function(){Kumulos("pushRegister")}},me={updateLiveRampDataMatching:function(){var e,t=de.getKeyId(de,"liveRamp"),n=de.getPersistedSDKSessionData(de,t);if(e=le().visitorId,(null==n||n.value!=e)&&void 0!==r.LiveRampMetaData&&void 0!==r.LiveRampMetaData.tenantToken&&void 0!==r.LiveRampMetaData.baseEndpoint){var o=r.LiveRampMetaData.tenantToken,a=r.LiveRampMetaData.liveRampTenantToken,i=r.LiveRampMetaData.baseEndpoint,c=r.optitrackMetaData.siteId,l=new RegExp("(\\[liveRampToken\\])","g");!function(e){if(o!=e){var t=document,n=t.createElement("img"),r=t.getElementsByTagName("script")[0];n.type="text/javascript",n.async=!0,n.defer=!0,n.src=e,r.parentNode.insertBefore(n,r)}}(i.replace(l,a)+o+"_"+c+"_"+e),de.persistSDKSessionData(de,t,e)}}},fe={updateDatonicsDataMatching:function(){var e,t=de.getKeyId(de,"datonics"),n=de.getPersistedSDKSessionData(de,t);e=le().visitorId,(null==n||n.value!=e)&&(function(e,t){if(null!=e){var n=r.DatonicsCookieMatchingMetaData.baseEndpoint,o=document,a=o.createElement("img"),i=o.getElementsByTagName("script")[0];a.type="text/javascript",a.async=!0,a.defer=!0;var c=Math.round(1e16*Math.random());a.src=n+"csync="+t+"_"+e+";rnd=("+c+")",i.parentNode.insertBefore(a,i)}}(e,r.optitrackMetaData.siteId),de.persistSDKSessionData(de,t,e))}},he={updateCookieMatcher:function(e){var t,n=de.getKeyId(de,"googlCookieMatch"),o=de.getPersistedSDKSessionData(de,n);t=le().visitorId;var a,i,c,l,s;a=void 0!==e&&null!=e?e:t,(null==o||o.value!=t)&&(function(e){var t="https://gcm.optimove.events/setCookie?optimove_id="+e,n=document.createElement("img");n.style.display="none",n.setAttribute("src",t),document.body.appendChild(n)}(a),i=r.cookieMatcherMetaData.tenantToken,c=r.cookieMatcherMetaData.optimoveCookieMatcherId,l="https://cm.g.doubleclick.net/pixel?google_nid="+c+"&google_cm&tenant_id="+i,(s=document.createElement("img")).style.display="none",s.setAttribute("src",l),document.body.appendChild(s),de.persistSDKSessionData(de,n,t))}},ve=function(e){var t=e,n=te(),o=ee();Q();return n&&n===t?(N.log("info","setUserId: User ID is already set"),!1):{userId:t,originalVisitorId:o?ee():$(),updatedVisitorId:z(e||"").substring(0,16)}},ge={getVersion:function(){return C},getConfigurationVersion:function(){return r.version},getVisitorId:function(){return Q()},getUserId:function(){return te()},setRealTimeOptions:function(e){null!=e.showDimmer&&(r.realtimeMetaData.options.showDimmer=e.showDimmer),null!=e.showWatermark&&(r.realtimeMetaData.options.showWatermark=e.showWatermark),null!=e.reportEventCallback&&(r.realtimeMetaData.options.popupCallback=e.reportEventCallback)},setUserId:function(e,t){var n=e||null;if(n||t){var o=ve(n);if(o){var a=G;a.logEvent(F,o),a.dispatch().then((function(e){K.validateUserId(n)&&K.validateUserIdLength(n)&&(Z(o.updatedVisitorId),ne(n),r.enableWebPush&&(N.log("info","kumulos associating user identifier: "+o.userId),Kumulos("associateUser",o.userId))),"function"==typeof t&&t()})).catch((function(e){N.log("error","setUserId error = ".concat(e))})),1==r.supportCookieMatcher&&he.updateCookieMatcher(n)}else"function"==typeof t&&t()}else console.error("UserId is not defined ".concat(n,", no user ID had been set"))},setUserEmail:function(e,t,n){var o,a=n||null,i=G;if(e){if(e.trim()){var c={email:e};a&&(o=ve(a))&&(i.logEvent(F,o),1==r.supportCookieMatcher&&he.updateCookieMatcher(a)),i.logEvent(_,c,o),i.dispatch().then((function(e){o&&K.validateUserId(a)&&K.validateUserIdLength(a)&&(Z(o.updatedVisitorId),ne(a),r.enableWebPush&&(N.log("info","kumulos associating user identifier: "+o.userId),Kumulos("associateUser",o.userId))),t&&"function"==typeof t&&t()})).catch((function(e){N.log("error","setUserEmail error = ".concat(e))}))}}else N.log("error","setUserEmail: email is missing")},registerUser:function(e,t,n,o,a){var i=e||null;if(i){var c=ve(i);if(c){var l=G;l.logEvent(F,c),t&&l.logEvent(_,{email:t},c),n&&l.logEvent(n,o,c),l.dispatch().then((function(){c&&K.validateUserId(i)&&K.validateUserIdLength(i)&&(Z(c.updatedVisitorId),ne(i),r.enableWebPush&&(N.log("info","kumulos associating user identifier: "+c.userId),Kumulos("associateUser",c.userId))),a&&"function"==typeof a&&a()}))}else a&&"function"==typeof a&&a()}else console.error("UserId is not defined ".concat(i,", no user ID had been set"))},reportEvent:function(e,t,n,o){var a,i=o||null,c=G;i&&(a=ve(i))&&(c.logEvent(F,a),1==r.supportCookieMatcher&&he.updateCookieMatcher(i)),c.logEvent(e,t,a),c.dispatch().then((function(e){a&&K.validateUserId(i)&&K.validateUserIdLength(i)&&(Z(a.updatedVisitorId),ne(i),r.enableWebPush&&(N.log("info","kumulos associating user identifier: "+a.userId),Kumulos("associateUser",a.userId))),n&&"function"==typeof n&&n()}))},setPageVisit:function(e,t,n,o){var a,i=t?t.trim():null,c=null!=n?n.trim():null,l=encodeURI(e),s={customURL:l=l.trim().toLowerCase(),pageTitle:i,category:c},p=o||null,d=G;p&&(a=ve(p))&&(d.logEvent(F,a),1==r.supportCookieMatcher&&he.updateCookieMatcher(p)),d.logEvent("set_page_visit",s,a),d.dispatch().then((function(e){a&&K.validateUserId(p)&&K.validateUserIdLength(p)&&(Z(a.updatedVisitorId),ne(p),r.enableWebPush&&(N.log("info","kumulos associating user identifier: "+a.userId),Kumulos("associateUser",a.userId)))})),void 0!==r.supportDatonicsCookieMatching&&1==r.supportDatonicsCookieMatching&&(N.log("info","call setPageVisit support DatonicsCookieMatching"),fe.updateDatonicsDataMatching()),void 0!==r.supportCookieMatcher&&1==r.supportCookieMatcher&&he.updateCookieMatcher(null),void 0!==r.supportLiveRamp&&1==r.supportLiveRamp&&me.updateLiveRampDataMatching()},pushRegister:function(){ue.pushRegister()},showRealtimePopup:pe.executePopup,closeRealtimePopup:pe.closePopup,openWebTestTool:function(){document.getElementById("optimoveSdkWebTool")||ye()},closeWebTestTool:function(){var e=document.getElementById("optimoveSdkWebTool");if(null!=e){e.remove();try{window.sessionStorage.setItem("isSideBarShouldBeOpen",!1)}catch(e){N.log("error","Web sdk test tool : session storage access has failed :  ".concat(e))}}document.body.classList.remove("optimoveSdkWebToolOpen"),document.body.style.width="auto"},tools:function(){return K}},self.optimoveTenantConfiguration&&V(null,null,null,"info"),{initialize:V,API:ge})}()}();